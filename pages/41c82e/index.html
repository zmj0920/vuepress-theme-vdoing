<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>跨域和前端性能优化 | 前端学习之道</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/zmj0920/image_store/blog/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="web前端技术博客,简洁至上,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="code-4kmwjMtj6j">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.9c7d2b41.css" as="style"><link rel="preload" href="/assets/js/app.e227a3dc.js" as="script"><link rel="preload" href="/assets/js/3.fd6670bb.js" as="script"><link rel="preload" href="/assets/js/81.ac573016.js" as="script"><link rel="prefetch" href="/assets/js/1.cfed60bd.js"><link rel="prefetch" href="/assets/js/10.10dd3c00.js"><link rel="prefetch" href="/assets/js/100.9f455545.js"><link rel="prefetch" href="/assets/js/101.1b9f3a8e.js"><link rel="prefetch" href="/assets/js/102.82719629.js"><link rel="prefetch" href="/assets/js/103.f5b69299.js"><link rel="prefetch" href="/assets/js/104.23822f40.js"><link rel="prefetch" href="/assets/js/105.e92079f2.js"><link rel="prefetch" href="/assets/js/106.cf3ddc09.js"><link rel="prefetch" href="/assets/js/107.15bb7b72.js"><link rel="prefetch" href="/assets/js/108.d7c79b6a.js"><link rel="prefetch" href="/assets/js/109.3a6c4cc1.js"><link rel="prefetch" href="/assets/js/11.07b482fc.js"><link rel="prefetch" href="/assets/js/110.76fc6091.js"><link rel="prefetch" href="/assets/js/12.78b78a02.js"><link rel="prefetch" href="/assets/js/13.bc962a45.js"><link rel="prefetch" href="/assets/js/14.7f716e0d.js"><link rel="prefetch" href="/assets/js/15.c996be4f.js"><link rel="prefetch" href="/assets/js/16.16c6d001.js"><link rel="prefetch" href="/assets/js/17.1b224907.js"><link rel="prefetch" href="/assets/js/18.2dba00b9.js"><link rel="prefetch" href="/assets/js/19.d7c73f91.js"><link rel="prefetch" href="/assets/js/20.1c09e8d2.js"><link rel="prefetch" href="/assets/js/21.6ae0c7df.js"><link rel="prefetch" href="/assets/js/22.c61644a4.js"><link rel="prefetch" href="/assets/js/23.05b39f3c.js"><link rel="prefetch" href="/assets/js/24.276ef572.js"><link rel="prefetch" href="/assets/js/25.fc24dcd7.js"><link rel="prefetch" href="/assets/js/26.42f1d2e3.js"><link rel="prefetch" href="/assets/js/27.9d2fed53.js"><link rel="prefetch" href="/assets/js/28.ec243abd.js"><link rel="prefetch" href="/assets/js/29.4508077a.js"><link rel="prefetch" href="/assets/js/30.ceedb5fd.js"><link rel="prefetch" href="/assets/js/31.d85ea064.js"><link rel="prefetch" href="/assets/js/32.ce5dcd72.js"><link rel="prefetch" href="/assets/js/33.96f5b959.js"><link rel="prefetch" href="/assets/js/34.ae958573.js"><link rel="prefetch" href="/assets/js/35.a5ad190c.js"><link rel="prefetch" href="/assets/js/36.a35ab962.js"><link rel="prefetch" href="/assets/js/37.6ccf2d21.js"><link rel="prefetch" href="/assets/js/38.8ed68283.js"><link rel="prefetch" href="/assets/js/39.a8934ab8.js"><link rel="prefetch" href="/assets/js/4.afbf8dd4.js"><link rel="prefetch" href="/assets/js/40.a6bff98c.js"><link rel="prefetch" href="/assets/js/41.116140b6.js"><link rel="prefetch" href="/assets/js/42.bc934379.js"><link rel="prefetch" href="/assets/js/43.58944225.js"><link rel="prefetch" href="/assets/js/44.de0fac37.js"><link rel="prefetch" href="/assets/js/45.b72ab4f3.js"><link rel="prefetch" href="/assets/js/46.e8ec1522.js"><link rel="prefetch" href="/assets/js/47.ef609333.js"><link rel="prefetch" href="/assets/js/48.c856ed87.js"><link rel="prefetch" href="/assets/js/49.1f7eb9b6.js"><link rel="prefetch" href="/assets/js/5.94d22f30.js"><link rel="prefetch" href="/assets/js/50.a10f98f4.js"><link rel="prefetch" href="/assets/js/51.7d1e5e82.js"><link rel="prefetch" href="/assets/js/52.5754e4d8.js"><link rel="prefetch" href="/assets/js/53.1c9aa3b3.js"><link rel="prefetch" href="/assets/js/54.5558a87d.js"><link rel="prefetch" href="/assets/js/55.73f6339d.js"><link rel="prefetch" href="/assets/js/56.8a1ed185.js"><link rel="prefetch" href="/assets/js/57.6fe1e694.js"><link rel="prefetch" href="/assets/js/58.28ad56f0.js"><link rel="prefetch" href="/assets/js/59.5eaa01d6.js"><link rel="prefetch" href="/assets/js/6.96bfac85.js"><link rel="prefetch" href="/assets/js/60.3bdb5e6e.js"><link rel="prefetch" href="/assets/js/61.bff26c8f.js"><link rel="prefetch" href="/assets/js/62.12019e5f.js"><link rel="prefetch" href="/assets/js/63.676c0a22.js"><link rel="prefetch" href="/assets/js/64.5eca8d99.js"><link rel="prefetch" href="/assets/js/65.5358d4f4.js"><link rel="prefetch" href="/assets/js/66.f7696be2.js"><link rel="prefetch" href="/assets/js/67.b0575854.js"><link rel="prefetch" href="/assets/js/68.b7892b68.js"><link rel="prefetch" href="/assets/js/69.1b2583a1.js"><link rel="prefetch" href="/assets/js/7.83a1503f.js"><link rel="prefetch" href="/assets/js/70.3558a44e.js"><link rel="prefetch" href="/assets/js/71.488a0e53.js"><link rel="prefetch" href="/assets/js/72.eaec1bae.js"><link rel="prefetch" href="/assets/js/73.235147f5.js"><link rel="prefetch" href="/assets/js/74.0821de1e.js"><link rel="prefetch" href="/assets/js/75.e2f2e8ee.js"><link rel="prefetch" href="/assets/js/76.5904dcd6.js"><link rel="prefetch" href="/assets/js/77.4a591fd2.js"><link rel="prefetch" href="/assets/js/78.e3fe65ce.js"><link rel="prefetch" href="/assets/js/79.a2a49e65.js"><link rel="prefetch" href="/assets/js/8.f6ebf9fb.js"><link rel="prefetch" href="/assets/js/80.9650ceea.js"><link rel="prefetch" href="/assets/js/82.6b22ea4e.js"><link rel="prefetch" href="/assets/js/83.280a5762.js"><link rel="prefetch" href="/assets/js/84.7c084f95.js"><link rel="prefetch" href="/assets/js/85.f7d34184.js"><link rel="prefetch" href="/assets/js/86.e285678f.js"><link rel="prefetch" href="/assets/js/87.272866c8.js"><link rel="prefetch" href="/assets/js/88.ba170cf5.js"><link rel="prefetch" href="/assets/js/89.ba6488a4.js"><link rel="prefetch" href="/assets/js/9.f5d54197.js"><link rel="prefetch" href="/assets/js/90.50e94eaf.js"><link rel="prefetch" href="/assets/js/91.d23ea56d.js"><link rel="prefetch" href="/assets/js/92.265f84bb.js"><link rel="prefetch" href="/assets/js/93.2945ac11.js"><link rel="prefetch" href="/assets/js/94.21aa3886.js"><link rel="prefetch" href="/assets/js/95.df2bbd7f.js"><link rel="prefetch" href="/assets/js/96.ea40ed54.js"><link rel="prefetch" href="/assets/js/97.2ab6a48c.js"><link rel="prefetch" href="/assets/js/98.4f3dca3f.js"><link rel="prefetch" href="/assets/js/99.cdee6350.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9c7d2b41.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/zmj0920/image_store/blog/logo3.png" alt="前端学习之道" class="logo"> <span class="site-name can-hide">前端学习之道</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML相关文章</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS相关文章</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript相关文章</a></li><li class="dropdown-subitem"><a href="/typecript/" class="nav-link">TypeScript相关文章</a></li><li class="dropdown-subitem"><a href="/vue/" class="nav-link">Vue相关文章</a></li><li class="dropdown-subitem"><a href="/react/" class="nav-link">React相关文章</a></li><li class="dropdown-subitem"><a href="/angular/" class="nav-link">Angular相关文章</a></li><li class="dropdown-subitem"><a href="/flutter/" class="nav-link">Flutter相关文章</a></li><li class="dropdown-subitem"><a href="/applet/" class="nav-link">小程序相关文章</a></li><li class="dropdown-subitem"><a href="/node/" class="nav-link">Node相关文章</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/admin/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>后端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/khe2h7e8xh/" class="nav-link">GO语言基础学习</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/635088/" class="nav-link">《Git》学习笔记</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="云计算" class="dropdown-title"><a href="/cloudcomputing/" class="link-title">云计算</a> <span class="title" style="display:none;">云计算</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>云计算</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/openstack/" class="nav-link">OpenStack 系列</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/pages/eee83a9211a70f9d/" class="nav-link">资源</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问题" class="dropdown-title"><a href="/pages/e14099/" class="link-title">问题</a> <span class="title" style="display:none;">问题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e14099/" class="nav-link">问题列表</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="指南" class="dropdown-title"><a href="/pages/ad247c4332211551/" class="link-title">指南</a> <span class="title" style="display:none;">指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>相关文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/ad247c4332211551/" class="nav-link">Markdown使用教程 容器</a></li><li class="dropdown-subitem"><a href="/pages/c5a54d/" class="nav-link">在线编辑和新增文章的方法</a></li></ul></li><li class="dropdown-item"><h4>配置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a20ce8/" class="nav-link">主题配置</a></li><li class="dropdown-subitem"><a href="/pages/3216b0/" class="nav-link">front matter配置</a></li><li class="dropdown-subitem"><a href="/pages/54651a/" class="nav-link">目录页配置</a></li><li class="dropdown-subitem"><a href="/pages/1cc523/" class="nav-link">添加摘要</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link">Article timeline</a></div> <a href="https://github.com/zmj0920/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML相关文章</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS相关文章</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript相关文章</a></li><li class="dropdown-subitem"><a href="/typecript/" class="nav-link">TypeScript相关文章</a></li><li class="dropdown-subitem"><a href="/vue/" class="nav-link">Vue相关文章</a></li><li class="dropdown-subitem"><a href="/react/" class="nav-link">React相关文章</a></li><li class="dropdown-subitem"><a href="/angular/" class="nav-link">Angular相关文章</a></li><li class="dropdown-subitem"><a href="/flutter/" class="nav-link">Flutter相关文章</a></li><li class="dropdown-subitem"><a href="/applet/" class="nav-link">小程序相关文章</a></li><li class="dropdown-subitem"><a href="/node/" class="nav-link">Node相关文章</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/admin/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>后端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/khe2h7e8xh/" class="nav-link">GO语言基础学习</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/635088/" class="nav-link">《Git》学习笔记</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="云计算" class="dropdown-title"><a href="/cloudcomputing/" class="link-title">云计算</a> <span class="title" style="display:none;">云计算</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>云计算</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/openstack/" class="nav-link">OpenStack 系列</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/pages/eee83a9211a70f9d/" class="nav-link">资源</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问题" class="dropdown-title"><a href="/pages/e14099/" class="link-title">问题</a> <span class="title" style="display:none;">问题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e14099/" class="nav-link">问题列表</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="指南" class="dropdown-title"><a href="/pages/ad247c4332211551/" class="link-title">指南</a> <span class="title" style="display:none;">指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>相关文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/ad247c4332211551/" class="nav-link">Markdown使用教程 容器</a></li><li class="dropdown-subitem"><a href="/pages/c5a54d/" class="nav-link">在线编辑和新增文章的方法</a></li></ul></li><li class="dropdown-item"><h4>配置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a20ce8/" class="nav-link">主题配置</a></li><li class="dropdown-subitem"><a href="/pages/3216b0/" class="nav-link">front matter配置</a></li><li class="dropdown-subitem"><a href="/pages/54651a/" class="nav-link">目录页配置</a></li><li class="dropdown-subitem"><a href="/pages/1cc523/" class="nav-link">添加摘要</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link">Article timeline</a></div> <a href="https://github.com/zmj0920/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/8143cc480faccdd/" class="sidebar-link">JavaScript常用技巧</a></li><li><a href="/pages/8143cc480faf9a11/" class="sidebar-link">new命令原理</a></li><li><a href="/pages/b1af5cb8996363c5/" class="sidebar-link">ES5、ES6面向对象</a></li><li><a href="/pages/cbc913/" class="sidebar-link">JavaScropt基础介绍</a></li><li><a href="/pages/t2db9iwn0p/" class="sidebar-link">《JavaScript高级程序设计》</a></li><li><a href="/pages/thrxk0t3wc/" class="sidebar-link">常用正则表达式</a></li><li><a href="/pages/9f892d/" class="sidebar-link">Array对象api使用技巧</a></li><li><a href="/pages/9d0811/" class="sidebar-link">JavaScript基础</a></li><li><a href="/pages/15f8cd/" class="sidebar-link">BOM</a></li><li><a href="/pages/41c82e/" aria-current="page" class="active sidebar-link">跨域和前端性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/41c82e/#什么是同源策略" class="sidebar-link">什么是同源策略</a></li><li class="sidebar-sub-header level2"><a href="/pages/41c82e/#前后端如何通信方式" class="sidebar-link">前后端如何通信方式</a></li><li class="sidebar-sub-header level2"><a href="/pages/41c82e/#ajax-的-readystate-状态值" class="sidebar-link">ajax 的 readyState 状态值？</a></li><li class="sidebar-sub-header level2"><a href="/pages/41c82e/#如何解决跨域" class="sidebar-link">如何解决跨域</a></li><li class="sidebar-sub-header level2"><a href="/pages/41c82e/#输入网址到页面展现-浏览器做了哪些事" class="sidebar-link">输入网址到页面展现，浏览器做了哪些事</a></li><li class="sidebar-sub-header level2"><a href="/pages/41c82e/#页面性能优化" class="sidebar-link">页面性能优化</a></li><li class="sidebar-sub-header level2"><a href="/pages/41c82e/#一-减少-http-请求" class="sidebar-link">一.减少 http 请求</a></li><li class="sidebar-sub-header level2"><a href="/pages/41c82e/#二-非核心代码的异步加载" class="sidebar-link">二.非核心代码的异步加载</a></li><li class="sidebar-sub-header level2"><a href="/pages/41c82e/#异步加载的方式" class="sidebar-link">异步加载的方式</a></li><li class="sidebar-sub-header level2"><a href="/pages/41c82e/#三-利用浏览器缓存" class="sidebar-link">三.利用浏览器缓存</a></li></ul></li><li><a href="/pages/0f6a0ac99b62ede5/" class="sidebar-link">防抖与节流函数</a></li><li><a href="/pages/fd4a16d56b83c1bc/" class="sidebar-link">比typeof运算符更准确的类型判断</a></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-7828333725993554"
            data-ad-slot="3508773082"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1baff76c><div class="articleInfo" data-v-1baff76c><ul class="breadcrumbs" data-v-1baff76c><li data-v-1baff76c><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1baff76c></a></li> <li data-v-1baff76c><span data-v-1baff76c>JavaScript文章</span></li></ul> <div class="info" data-v-1baff76c><div title="作者" class="author iconfont icon-touxiang" data-v-1baff76c><a href="https://github.com/zmj0920" target="_blank" title="作者" class="beLink" data-v-1baff76c>前端学习之道</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1baff76c><a href="javascript:;" data-v-1baff76c>2021-08-15</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">跨域和前端性能优化<!----></h1>  <div class="theme-vdoing-content content__default"><p>跨域是指一个域下的文档或脚本试图去请求另一个域下的资源，这里跨域是广义的，其实我们通常所说的跨域是狭义的，是由浏览器同源策略限制的一类请求场景，跨域出现场景：域名不一样，二级域名不同，协议不同</p> <h2 id="什么是同源策略"><a href="#什么是同源策略" class="header-anchor">#</a> 什么是同源策略</h2> <p>源（origin）就是协议、域名和端口号。</p> <p>同源策略限制了从同一个源加载的文档或脚本如何与来自另一个源的资源进行交互。</p> <p>主要限制以下几点</p> <ul><li>cookie,LocalStorage 无法获取</li> <li>dom 无法请求</li> <li>ajax 无法请求</li></ul> <h2 id="前后端如何通信方式"><a href="#前后端如何通信方式" class="header-anchor">#</a> 前后端如何通信方式</h2> <ul><li>ajax</li> <li>cors</li> <li>websocket</li></ul> <h2 id="ajax-的-readystate-状态值"><a href="#ajax-的-readystate-状态值" class="header-anchor">#</a> ajax 的 readyState 状态值？</h2> <p>readyState 总共有 5 个状态值，分别为 0~4，每个值代表了不同的含义</p> <p><code>0</code>：初始化，XMLHttpRequest 对象还没有完成初始化</p> <p><code>1</code>：载入，XMLHttpRequest 对象开始发送请求</p> <p><code>2</code>：载入完成，XMLHttpRequest 对象的请求发送完成</p> <p><code>3</code>：解析，XMLHttpRequest 对象开始读取服务器的响应</p> <p><code>4</code>：完成，XMLHttpRequest 对象读取服务器响应结束</p> <h2 id="如何解决跨域"><a href="#如何解决跨域" class="header-anchor">#</a> 如何解决跨域</h2> <h4 id="_1-cors-corss-origin-resource-share-跨不同源头资源共享"><a href="#_1-cors-corss-origin-resource-share-跨不同源头资源共享" class="header-anchor">#</a> 1.CORS:Corss Origin Resource Share 跨不同源头资源共享</h4> <p>简言之就是每次请求在请求头中都会携带原信息，服务器根据这个源来判断是否需要执行同源策略限制。如果跨域服务器返回的头信息中将不会携带<code>Access-Control-Allow-Origin</code>,客户端知道后，立即抛出一个经典的错误。</p> <p><img src="https://hansu-1253325863.cos.ap-shanghai.myqcloud.com/%E9%9D%A2%E8%AF%95/cors.png" alt=""></p> <p><strong>解决方案：</strong></p> <h5 id="_1-1express-原生"><a href="#_1-1express-原生" class="header-anchor">#</a> 1.1express 原生</h5> <p>res.send 是封装好的，所以要重新这三句话=&gt;</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string-property property">&quot;Access-Control-Allow-Origin&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://xxxx:端口&quot;</span><span class="token operator">|</span>“<span class="token operator">*</span>”<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//*代表所有</span>
res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>xx<span class="token punctuation">)</span><span class="token punctuation">;</span>
res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_1-2-express-模块"><a href="#_1-2-express-模块" class="header-anchor">#</a> 1.2 express 模块</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> cors <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;cors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_1-3-koa-模块"><a href="#_1-3-koa-模块" class="header-anchor">#</a> 1.3 koa 模块</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> cors <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;koa-cors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-jsonp-json-with-padding-填充的方式"><a href="#_2-jsonp-json-with-padding-填充的方式" class="header-anchor">#</a> 2.JSONP:JSON with Padding 填充的方式</h4> <p>原理：script 不受同源策略的限制，但是只能发送 get 请求</p> <p><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;&quot;&gt;</code>可以直接使用别人网站的 css 文件</p> <p><code>&lt;img src=&quot;&quot;&gt;</code> 可以使用任意网站的外链</p> <p><code>&lt;iframe&gt;&lt;/iframe&gt;</code></p> <p><code>&lt;script src=&quot;....&quot;&gt;</code> 可以发送请求并立即执行返回的 js 语句</p> <p>这里我们选用<code>&lt;script&gt;&lt;/script&gt;</code></p> <h5 id="_2-1-使用步骤"><a href="#_2-1-使用步骤" class="header-anchor">#</a> 2.1 使用步骤</h5> <p>1.服务端，先获得客户端提供的函数名，然后将要返回的数据填充在函数调用语句中返回</p> <p>2.客户端：在客户端中提前定义好函数，然后用 script 代替 ajax 发送带参数为函数名的请求，两者函数名必须相同</p> <ul><li>服务端</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> fn <span class="token operator">=</span> req<span class="token punctuation">.</span>qurey<span class="token punctuation">.</span>callback<span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fn<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">({message:&quot;ok&quot;})</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>客户端</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">function</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;http://127.0.0.1?callback=getData&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>3.动态添加 script 请求</p> <p>1.E.onlick=function(){</p> <p>${`<script src="..."></script>`}.appendTo(body);</p> <p>}</p> <p>2.请求完毕后删除</p> <p>fun(){</p> <p>$(&quot;script&quot;).last().remove();}</p> <h5 id="_2-2-ajax-用-jsonp-解决跨域访问"><a href="#_2-2-ajax-用-jsonp-解决跨域访问" class="header-anchor">#</a> 2.2 ajax 用 jsonp 解决跨域访问</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">async</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;http://www.xxx.com/ajax.do&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">&quot;jsonp&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">jsonp</span><span class="token operator">:</span> <span class="token string">&quot;callbackparam&quot;</span><span class="token punctuation">,</span> <span class="token comment">//服务端用于接收callback调用的function名的参数</span>
  <span class="token literal-property property">jsonpCallback</span><span class="token operator">:</span> <span class="token string">&quot;success_jsonpCallback&quot;</span><span class="token punctuation">,</span> <span class="token comment">//callback的function名称</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">json</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>json<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;fail&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>3.websocket</p> <p>不讲了，一般搭建 http 服务器，想搭 websocket 网上搜搜一大堆。</p> <h2 id="输入网址到页面展现-浏览器做了哪些事"><a href="#输入网址到页面展现-浏览器做了哪些事" class="header-anchor">#</a> 输入网址到页面展现，浏览器做了哪些事</h2> <ul><li><p>首先 Chrome 搜索自身的 DNS 缓存。(如果 DNS 缓存中找到百度的 IP 地址，就跳过了接下来查找 IP 地址步骤，直接访问该 IP 地址。)</p></li> <li><p>搜索操作系统自身的 DNS 缓存。(浏览器没有找到缓存或者缓存已经失效)</p></li> <li><p>读取硬盘中的 host 文件，里面记录着域名到 IP 地址的映射关系，Mac 电脑中位于 /etc/hosts。(如果前 1.2 步骤都没有找到)</p></li> <li><p>浏览器向宽带运营商服务器或者域名服务器发起一个 DNS 解析请求，这里服务器有两种方式解析请求，这在稍后会讲到，之后浏览器获得了百度首页的 IP 地址。</p></li> <li><p>拿到 IP 地址后，浏览器就向该 IP 所在的服务器建立 TCP 连接(即三次握手)。</p></li> <li><p>连接建立起来之后，浏览器就可以向服务器发起 HTTP 请求了。(这里比如访问百度首页，就向服务器发起 HTTP 中的 GET 请求)服务器接受到这个请求后，根据路径参数，经过后台一些处理之后，把处理后的结果返回给浏览器，如果是百度首页，就可以把完整的 HTML 页面代码返回给浏览器。</p></li> <li><p>浏览器拿到了百度首页的完整 HTML 页面代码，内核和 JS 引擎就会解析和渲染这个页面，里面的 JS，CSS，图片等静态资源也通过一个个 HTTP 请求进行加载。</p></li> <li><p>浏览器根据拿到的资源对页面进行渲染，最终把完整的页面呈现给用户。</p> <p>如果浏览器没有后续的请求，那么就会跟服务器端发起 TCP 断开(即四次挥手)</p></li></ul> <h2 id="页面性能优化"><a href="#页面性能优化" class="header-anchor">#</a> 页面性能优化</h2> <h2 id="一-减少-http-请求"><a href="#一-减少-http-请求" class="header-anchor">#</a> 一.减少 http 请求</h2> <ul><li>压缩资源</li> <li>使用雪碧图</li></ul> <h2 id="二-非核心代码的异步加载"><a href="#二-非核心代码的异步加载" class="header-anchor">#</a> 二.非核心代码的异步加载</h2> <p>js 解析是自上而下的同步任务，解析到<code>&lt;script&gt;</code>标签呢，如果文件过大可能会引起阻塞，影响接下来的页面解析，所以现在通常的做法是把 js 文件放在 body 的最后，或者使用异步加载的方法。</p> <h2 id="异步加载的方式"><a href="#异步加载的方式" class="header-anchor">#</a> 异步加载的方式</h2> <h5 id="_1-1-动态创建脚本加载"><a href="#_1-1-动态创建脚本加载" class="header-anchor">#</a> 1.1 动态创建脚本加载</h5> <div class="language- line-numbers-mode"><pre class="language-text"><code>var script=document.createElement(&quot;script&quot;);
script.src=&quot;&quot;;
document.body.appendChild(script);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_1-2-defer"><a href="#_1-2-defer" class="header-anchor">#</a> 1.2 defer</h5> <p>html 解析完之后执行，如果是多个，按照加载的顺序依次执行。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  ..
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./1.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样就是在 html 解析完之后再去解析 js 文件</p> <h5 id="_1-3-async"><a href="#_1-3-async" class="header-anchor">#</a> 1.3 async</h5> <p>是在加载完之后立即执行，如果是多个，执行顺序和加载顺序无关</p> <p>这个和 defer 的主要区别是</p> <h2 id="三-利用浏览器缓存"><a href="#三-利用浏览器缓存" class="header-anchor">#</a> 三.利用浏览器缓存</h2> <p>缓存：资源文件在浏览器中存在的备份。</p> <h4 id="_1-强缓存"><a href="#_1-强缓存" class="header-anchor">#</a> 1.强缓存</h4> <p>当页面第一次请求服务器时，服务器会将资源存储在本地磁盘中，下一次在请求服务器时，浏览器会检查是否命中强缓存，如果命中强缓存，则不会请求服务器，直接在缓存中读取资源，响应的状态码依然是 200.</p> <h5 id="_1-1-expires-http1-0"><a href="#_1-1-expires-http1-0" class="header-anchor">#</a> 1.1 expires:(http1.0)</h5> <p>过期时间，绝对时间,下发的是服务器的时间，但是比较的时候是客户端的时间。</p> <h5 id="_1-2-cache-control-http1-1"><a href="#_1-2-cache-control-http1-1" class="header-anchor">#</a> 1.2 cache-control:(http1.1)</h5> <p>max-age=3600 客户端响应时间，拿到资源之后 3600 后失效</p> <p>如果两者都有，以后者为准</p> <p>原理：以上两个都是加在第一次请求的头部，当第一次接受到响应之后会把资源和请求头部一起放在本地缓存中，第二次请求时会去寻找这个头部，并计算时间有没有过期，没有过期直接读取本地缓存中的资源。</p> <h5 id="_1-3-如何设置"><a href="#_1-3-如何设置" class="header-anchor">#</a> 1.3 如何设置</h5> <p><code>res.setHeader(&quot;Cache-Control&quot;,&quot;public,max-age=120&quot;);</code></p> <h4 id="_2-协商缓存"><a href="#_2-协商缓存" class="header-anchor">#</a> 2.协商缓存</h4> <h5 id="_2-1-last-modified-和-if-modified-since"><a href="#_2-1-last-modified-和-if-modified-since" class="header-anchor">#</a> 2.1 Last-Modified 和 if-modified-since</h5> <p>第一次请求时，服务器会返回相应的资源，并会在响应头部携带一个叫做 last-modified 的东西，告诉浏览器这是服务器最后一次修改的时间。下一次呢，浏览器再次请求服务器的时候，会在请求头部添加一个 if-modified-since，这个值就是第一次返回的 last-modified，服务器接受到这个值就会去跟资源最后一次修改的时间做对比，如果一致，返回 304，意思是资源没有发生改变，我不返回资源给你，你直接从自己的缓存里下吧。</p> <h5 id="_2-2-etag-和-if-none-match"><a href="#_2-2-etag-和-if-none-match" class="header-anchor">#</a> 2.2 Etag 和 if-None-Match</h5> <p>有时候我们只是改变文件，但是文件内容并未被修改的时候，如何判断呢？就需要上面这两个，其实和之前一样，只不过这个是携带一个唯一标识 etag，如果一致，返回 304，意思是资源没有发生改变，我不返回资源给你，你直接从自己的缓存里下吧。</p> <p>五.预解析 DNS</p> <p><code>&lt;meta http-equiv=&quot;x-dns-prefetch-control&quot; content=&quot;on&quot;&gt;</code></p> <p><code>&lt;link rel=&quot;dns-prefetch&quot; href=&quot;&quot;&gt;</code></p></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-7828333725993554"
            data-ad-slot="6620245489"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script></div> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/08/15, 09:13:34</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/15f8cd/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">BOM</div></a> <a href="/pages/0f6a0ac99b62ede5/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">防抖与节流函数</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/15f8cd/" class="prev">BOM</a></span> <span class="next"><a href="/pages/0f6a0ac99b62ede5/">防抖与节流函数</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:506499594@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/zmj0920" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2020-2022
    <span>前端学习之道 | <a href="https://beian.miit.gov.cn" target="_blank">豫ICP备17038403号-3</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.e227a3dc.js" defer></script><script src="/assets/js/3.fd6670bb.js" defer></script><script src="/assets/js/81.ac573016.js" defer></script>
  </body>
</html>
